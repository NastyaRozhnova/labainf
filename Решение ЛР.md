# Решение лабораторной работы

1. Для начала создадим переменную ```name```, в которой будем хранить имя актера:
```
$ name="Daniel Radcliffe"
```

2. Теперь изменим все строчки, который начинаются с "Гарри:", на имя нашего актера и запишем эти изменения в новый файл ```scenario.txt```:
```
$ cat harrypotter.txt | grep ^Гарри: | sed "s\Гарри:\$name:\" > scenario.txt
```
Проверяем:
<img width="1212" alt="image" src="https://github.com/user-attachments/assets/0bd00540-47a7-4301-8404-e553c8805a77" />

Файл ```harrypotter.txt``` остался неизменным:
<img width="1209" alt="image" src="https://github.com/user-attachments/assets/2ceab551-9394-49e2-bdd5-e642be01d7b3" />

Все выполнилось успешно, ура

3. Создадим новый файл, в котором будет храниться наш скрипт:
```
$ touch script.bash
```

4. С помощью команды ```gedit``` открываем файл для редактирования и начинаем писать скрипт:
```
#!/bin/bash

if [ $# -eq 0 ]; then
    echo "Укажите файл!"
    exit 1
else 
    counter=1
    while IFS= read -r line; do
        echo "$counter $line"
        ((counter++))
    done < "$1"
fi
```

<img width="679" alt="image" src="https://github.com/user-attachments/assets/7e668119-ddb9-4a24-946e-6b07ea1b9829" />


Рассмотрим этот скрипт подробнее. Вначале с помощью оператора ```if``` мы производим проверку на наличие переданного аргумента. Если он не был передан, то в терминале будет выведен соответствующий текст. Далее, если аргумент все таки был передан, создается переменная счетчика ```counter=1```. Затем создается шапка цикла ```while```, в которой используется команда ```read```. Команда ```read``` считывает
одну строку из стандартного потока ввода. Использование ```IFS= read -r```, нужно чтобы корректно обрабатывать строки с пробелами и предотвращать удаление начальных и конечных пробелов. Затем переходим к телу цикла. В теле цикла командой ```echo``` выводим значение переменных ```$counter``` ```$line```. Затем в теле цикла инкрементируем счетчик. Это арифметическое выражение, а для подстановки результата арифметического выражения используются
двойные круглые скобки. Тело цикла закрывается ключевым словом ```done```, и там же мы передаем скрипту информацию, откуда брать данные.

5. Выводим результат работы скрипта для нашего файла:
```
$ bash script.bash scenario.txt
```
<img width="817" alt="image" src="https://github.com/user-attachments/assets/a8e95925-7659-4fe1-b232-907f023ab046" />


Пробуем запустить скрипт без указания файла:
<img width="350" alt="image" src="https://github.com/user-attachments/assets/8c1c6acd-b516-40e0-8f6b-b2d080c70299" />


6. Наслаждаемся проделанной работой)
